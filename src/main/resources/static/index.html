<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="pragma" content="no-cache">
<meta name="author" content="medany">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="assets/libs/bootstrap/bootstrap.min.css" rel="stylesheet">
<link href="assets/libs/font-awesome/css/font-awesome.min.css" rel="stylesheet">
<link href="assets/css/style.css" rel="stylesheet">
<link href="assets/img/favicon.ico" rel="icon" type="image/png">
<title>Data Processing Pipeline Demo</title>
</head>
<body ng-app="demoApp">
	<div ng-controller="DemoCtrl" class="container">
		<div class="row">
			<div class="col-xs-6 col-md-8 col-lg-8">
				<br />
				<h1>Persisted Messages</h1>
				<table class="table table-bordered table-responsive">
					<thead>
						<tr>
							<th>ID</th>
							<th>Message</th>
							<th>Time</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-if="messages.length > 0" ng-repeat="m in messages">
							<td><span>{{m.id}}</span></td>
							<td><span>{{m.content}}</span></td>
							<td><time am-time-ago="m.date"></time></td>
						</tr>
						<tr ng-if="messages.length < 1">
							<td><span>no new messages.</span></td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="divider"></div>
			<div class="col-xs-6 col-md-4 col-lg-4">
				<h2>New Message</h2>
				<form class="form-horizontal" ng-submit="send()">
					<div class="form-group">
						<label for="dummy-json" class="col-sm-2 control-label">JSON</label>
						<div class="col-sm-10 {{!parsed ? 'has-error':''}} ">
							<textarea id="dummy-json" placeholder="a new json message..." class="form-control" rows="3" 
							ng-model="message"></textarea>
						</div>
					</div>
					<div class="alert alert-danger hidden">
						<strong>Error</strong> JSON unparseable
					</div>
					<div class="alert alert-success hidden">
						<strong>Success</strong> Message sent
					</div>
					<div class="form-group">
						<div class="col-sm-offset-2 col-sm-10">
							<button type="submit" class="btn btn-default pull-right">
								<span class="fa fa-send"></span> Send
							</button>
						</div>
					</div>
				</form>
			</div>

		</div>
	</div>
	<script src="/assets/libs/sockjs-client/sockjs.min.js" type="text/javascript"></script>
	<script src="/assets/libs/stomp.js/stomp.min.js" type="text/javascript"></script>
	<script src="/assets/libs/moment/moment.min.js" type="text/javascript"></script>
	<script src="/assets/libs/angular/angular.min.js" type="text/javascript"></script>
	<script src="/assets/libs/angular/angular-moment.min.js" type="text/javascript"></script>
	<script src="/assets/js/app.js" type="text/javascript"></script>
	<script src="/assets/js/controllers.js" type="text/javascript"></script>
	<script src="/assets/js/services.js" type="text/javascript"></script>
</body>
</html>
